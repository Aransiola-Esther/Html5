<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Words Counter App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>
    <section class="container">
        <div class="row">
            <div class="col">
                <h1>Words Counter App</h1>
            </div>
        </div>

        <div class="row">
            <div class="col-md-5">
                <h3>Cover letter</h3>
                <p>Please Enter your Cover letter in the space provided below, not exceeding 50 words</p>

                <div class="form-group">
                    <textarea id="txtCoverLetter" cols="30" row="6"
                    placeholder="Enter your cover letter here"
                    class="input-control"></textarea>
                </div>
                <div class="form-group">
                  <input type="text" class="input-control disabled" disabled="true" id="txtDisplay"> 
                </div>
            </div>
        </div>
    </section>
    <script>
        let txtCoverLetter = document.getElementById("txtCoverLetter");
        let txtDisplay = document.getElementById("txtDisplay");

        txtCoverLetter.addEventListener("keypress", countWords);

        function countWords(){
         let coverLetter = txtCoverLetter.value;
         //sanitize user's input by replacing multiple blank spaces with a space
         coverLetter = coverLetter.replace(/\s+/g, " ");

         //Break cover letter as a string into individual words usin a space as a separator
         let splittedwords = coverLetter.split(" ");

         //Count the number of words splitted
         let numWords = splittedwords.length;
         let remainingWords = 50 - numWords;

         if(remainingWords < 0){
            alert("You have exceeded the allowed number of words");
         } else {
            txtDisplay.value = "You have " + remainingWords + " wordsremaining";
         }

        }
    </script>
    
</body>
</html>